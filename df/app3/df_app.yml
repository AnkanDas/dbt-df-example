name: 'DBT Application 3'
version: 1.0
actions:
  - unique_name: investigate_sales_drop
    display_name: Investigate Sales Drop by Product & Region
    action_reference: investigate_sales_drop
    parameters:
      - param_name: 'region'
        df_param_type: string
        single_select_options: ["US_WA", "US_CA", "US_NY", "US_OR"]
      - param_name: 'product'
        df_param_type: string
        single_select_options: ["Product1", "Product2", "Product3", "Product4", "Product5", "Product6", "Product7", "Product8", "Product9", "Product10"]
    charts:
      - kind: "bar"
        name: "Sales Trend"
        options:
          x: "ds"
          y: sum_sales_amount
      - kind: "bar"
        name: "Campaign Count"
        options:
          x: "ds"
          y: "count_campaign"
      - kind: "bar"
        name: "Competitor Price Difference"
        options:
          x: "ds"
          y: "diff_price"
      - kind: "bar"
        name: "Case Count"
        options:
          x: "ds"
          y: "count_case"
    
  - unique_name: investigate_sales_drop_no_charts
    display_name: Investigate Sales Drop by Product & Region (No Charts)
    action_reference: investigate_sales_drop
    parameters:
      - param_name: 'region'
        df_param_type: string
        single_select_options: ["US_WA", "US_CA", "US_NY", "US_OR"]
      - param_name: 'product'
        df_param_type: string
        single_select_options: ["Product1", "Product2", "Product3", "Product4", "Product5", "Product6", "Product7", "Product8", "Product9", "Product10"]
